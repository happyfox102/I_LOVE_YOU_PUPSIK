<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>14 февраля · самая милая история</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', 'Quicksand', system-ui, -apple-system, sans-serif;
      background: #fdeff2;  /* нежная база */
      height: 100vh;
      overflow: hidden;
      color: #5e4b56;
    }

    /* акварельный фон с облачками */
    .clouds-bg {
      position: fixed;
      inset: 0;
      background: linear-gradient(145deg, #ffe9f0, #ffe0f0, #fff0f5);
      z-index: -2;
    }

    .clouds-bg::before {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      background-image:
        radial-gradient(circle at 10% 30%, rgba(255, 255, 255, 0.7) 3px, transparent 4px),
        radial-gradient(circle at 25% 70%, rgba(255, 240, 245, 0.6) 6px, transparent 7px),
        radial-gradient(circle at 80% 20%, rgba(255, 255, 200, 0.5) 8px, transparent 9px),
        radial-gradient(circle at 45% 85%, #ffc0cb70 15px, transparent 20px);
      background-size: 200px 200px;
      animation: cloudDrift 38s infinite alternate ease-in-out;
    }

    @keyframes cloudDrift {
      0% { background-position: 0% 0%; }
      100% { background-position: 5% 5%; }
    }

    /* летающие валентинки (конвертики) */
    .floaties {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: -1;
    }
    .floaty-item {
      position: absolute;
      font-size: 2rem;
      opacity: 0.2;
      animation: floatAround 14s infinite alternate;
      filter: drop-shadow(0 4px 6px rgba(255, 80, 120, 0.1));
    }
    @keyframes floatAround {
      0% { transform: translate(0, 0) rotate(0deg); }
      100% { transform: translate(30px, -40px) rotate(12deg); }
    }

    /* основной скроллер */
    .scroller {
      height: 100vh;
      overflow-y: scroll;
      scroll-snap-type: y mandatory;
      scroll-behavior: smooth;
      -webkit-overflow-scrolling: touch;
      position: relative;
      z-index: 5;
      padding: 0 10px;
    }

    /* экраны */
    .screen {
      min-height: 100vh;
      scroll-snap-align: start;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
    }

    /* карточки — как открытки */
    .card {
      max-width: 900px;
      width: 100%;
      min-height: 80vh;
      background: rgba(255, 250, 250, 0.75);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border-radius: 60px 60px 40px 40px;
      box-shadow: 0 25px 45px -15px rgba(210, 120, 140, 0.4), 0 0 0 2px #fff9 inset;
      padding: 24px;
      display: grid;
      grid-template-rows: auto auto 1fr auto;
      gap: 16px;
      transition: all 0.4s ease;
      border: 1px solid rgba(255, 255, 255, 0.7);
      transform-origin: center;
    }

    /* анимация появления */
    .screen .card {
      opacity: 0;
      transform: translateY(50px) scale(0.92) rotate(-1deg);
      transition: opacity 0.8s cubic-bezier(0.15, 0.85, 0.35, 1), transform 0.9s cubic-bezier(0.15, 0.85, 0.35, 1);
    }

    .screen.in-view .card {
      opacity: 1;
      transform: translateY(0) scale(1) rotate(0);
    }

    /* хедер карточки */
    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 1rem;
      font-weight: 500;
      color: #b3848c;
      letter-spacing: 0.5px;
      padding-bottom: 6px;
      border-bottom: 2px dotted #feb6c5;
    }
    .card-header span:first-child {
      background: #ffd9e2;
      padding: 4px 16px;
      border-radius: 40px;
      font-size: 0.85rem;
      color: #a1546a;
    }

    h2 {
      font-size: clamp(1.8rem, 7vw, 3.2rem);
      font-weight: 600;
      color: #b35f7a;
      text-shadow: 3px 3px 0 #ffd8e4;
      line-height: 1.1;
      margin: 0;
      word-break: break-word;
    }

    /* контентная часть — фото и текст */
    .content-grid {
      display: grid;
      grid-template-rows: minmax(180px, 1fr) auto;
      gap: 20px;
    }

    .photo-frame {
      border-radius: 42px;
      overflow: hidden;
      background: #ffecf1;
      box-shadow: 0 20px 30px -10px rgba(200, 100, 130, 0.3), inset 0 0 0 3px white;
      height: 100%;
      max-height: 45vh;
    }

    .photo-frame img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      transition: transform 0.7s;
    }
    .photo-frame img:hover {
      transform: scale(1.03);
    }

    .message {
      background: rgba(255, 255, 255, 0.8);
      border-radius: 36px;
      padding: 24px 26px;
      box-shadow: inset 0 1px 5px rgba(255, 255, 255, 0.9), 0 8px 18px rgba(240, 150, 170, 0.1);
      border: 1px solid white;
    }

    .message-title {
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 2px;
      color: #b08694;
      margin-bottom: 14px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .message-title span {
      background: #ffe2ea;
      padding: 4px 14px;
      border-radius: 30px;
    }

    /* стихи или твиты — мило и пушисто */
    .message-line {
      font-size: 1.2rem;
      line-height: 1.6;
      font-weight: 400;
      color: #6b4e59;
      margin-bottom: 16px;
      padding-left: 20px;
      border-left: 5px solid #ffb7c5;
      transition: 0.2s;
    }

    .message-line:last-child {
      margin-bottom: 0;
    }

    .message-line i {
      color: #f29bb0;
      margin-right: 8px;
    }

    /* новый блок «сладкий стол» */
    .candy-box {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      justify-content: center;
      margin-top: 10px;
    }
    .candy {
      background: #ffe6ed;
      border-radius: 70px;
      padding: 10px 22px;
      font-size: 1.2rem;
      box-shadow: 0 10px 0 #e6b0c0;
      color: #9d5f73;
      font-weight: 600;
      transform: translateY(0);
      transition: 0.15s ease;
      border: 2px solid white;
    }
    .candy:hover {
      transform: translateY(-4px);
      box-shadow: 0 14px 0 #d68faa;
    }

    /* зона интерактива (последний экран) */
    .valentine-envelope {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 22px;
    }

    .envelope {
      width: min(260px, 70vw);
      aspect-ratio: 1.2/1;
      background: #fccfdf;
      border-radius: 30px 30px 15px 15px;
      position: relative;
      cursor: pointer;
      box-shadow: 0 20px 20px -10px #dfa6b8, 0 0 0 3px #fff inset;
      transition: 0.2s;
    }

    .envelope:before {
      content: '💌';
      position: absolute;
      font-size: 5rem;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      transition: 0.3s;
      filter: drop-shadow(0 6px 6px #f2aec1);
    }

    .envelope.tapped:before {
      content: '💖';
      transform: translate(-50%, -70%) scale(1.2);
    }

    .heart-progress {
      display: flex;
      gap: 8px;
      justify-content: center;
      margin: 10px 0;
      font-size: 2rem;
    }

    .heart-progress i {
      color: #fbb0c0;
      text-shadow: 0 3px 3px white;
      transition: 0.2s;
      transform: scale(0.9);
    }

    .heart-progress i.lit {
      color: #ff4770;
      transform: scale(1.2);
      text-shadow: 0 0 15px #ff8da1;
    }

    .status-message {
      background: #ffffffba;
      backdrop-filter: blur(5px);
      padding: 10px 24px;
      border-radius: 50px;
      font-weight: 500;
      color: #ad657b;
    }

    .secret-letter {
      background: #fff6f9;
      border-radius: 36px;
      padding: 24px;
      box-shadow: 0 16px 35px #f4ced9;
      border: 2px solid white;
      display: none;
      width: 100%;
    }

    .secret-letter.show {
      display: block;
      animation: letterPop 0.6s ease-out;
    }

    @keyframes letterPop {
      0% { transform: scale(0.2) rotate(-10deg); opacity: 0; }
      70% { transform: scale(1.02); }
      100% { transform: scale(1) rotate(0); opacity: 1; }
    }

    .letter-title {
      font-size: 2rem;
      background: linear-gradient(145deg, #ea9ab2, #c76f8d);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    /* точечки справа */
    .dot-nav {
      position: fixed;
      right: 16px;
      top: 50%;
      transform: translateY(-50%);
      display: flex;
      flex-direction: column;
      gap: 12px;
      z-index: 20;
    }

    .dot {
      width: 12px;
      height: 12px;
      background: #fec7d4;
      border-radius: 50%;
      border: 2px solid white;
      box-shadow: 0 2px 6px #e2aebd;
      transition: 0.2s;
      cursor: pointer;
    }

    .dot.active {
      background: #fc8eb0;
      transform: scale(1.5);
      border-color: #ffffff;
      box-shadow: 0 0 20px #ff9ebb;
    }

    /* адаптив */
    @media (max-width: 600px) {
      .dot-nav { display: none; }
      .card { padding: 16px; }
      .message-line { font-size: 1rem; }
    }
  </style>
</head>
<body>
  <div class="clouds-bg"></div>
  <div class="floaties" id="floaties"></div>

  <nav class="dot-nav" id="dotNav">
    <div class="dot active"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div>
    <div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div>
  </nav>

  <main class="scroller" id="scroller">
    <!-- 1. Заглавная -->
    <section class="screen" id="screen1">
      <div class="card">
        <div class="card-header"><span>🍬 1/8</span><span>14 февраля ❤️</span></div>
        <h2>Ты — мой самый сладкий сон</h2>
        <div class="content-grid">
          <div class="photo-frame">
            <img src="image/photo_1_2026-02-13_22-12-10.jpg" alt="милота" loading="eager">
          </div>
          <div class="message">
            <div class="message-title"><span>💭 открыточка</span></div>
            <div class="message-line"><i>❤️</i> Каждый день с тобой — как кусочек рая</div>
            <div class="message-line"><i>🍭</i> Твоя улыбка слаще любого десерта</div>
          </div>
        </div>
      </div>
    </section>

    <!-- 2. Конфетный блок -->
    <section class="screen" id="screen2">
      <div class="card">
        <div class="card-header"><span>🍭 2/8</span><span>сладкий стол</span></div>
        <h2>Конфетти из счастья</h2>
        <div class="content-grid">
          <div class="photo-frame">
            <img src="image/photo_2_2026-02-13_22-12-10.jpg" alt="candy" loading="lazy">
          </div>
          <div class="message">
            <div class="candy-box">
              <span class="candy">🍬 мармелад</span>
              <span class="candy">🍫 поцелуй</span>
              <span class="candy">🍭 леденец</span>
              <span class="candy">🧁 нежность</span>
            </div>
            <div class="message-line">С тобой даже конфеты вкуснее вдвойне</div>
          </div>
        </div>
      </div>
    </section>

    <!-- 3. Облачко любви -->
    <section class="screen" id="screen3">
      <div class="card">
        <div class="card-header"><span>☁️ 3/8</span><span>наши облака</span></div>
        <h2>Мы летим высоко</h2>
        <div class="content-grid">
          <div class="photo-frame">
            <img src="image/photo_3_2026-02-13_22-12-10.jpg" alt="облака" loading="lazy">
          </div>
          <div class="message">
            <div class="message-line"><i>☁️</i> Если ты рядом — я парю</div>
            <div class="message-line"><i>✨</i> Ты моё личное облачко счастья</div>
          </div>
        </div>
      </div>
    </section>

    <!-- 4. Игривые щенки/мимими -->
    <section class="screen" id="screen4">
      <div class="card">
        <div class="card-header"><span>🐶 4/8</span><span>ми-ми-ми</span></div>
        <h2>Ты как плюшевый мишка</h2>
        <div class="content-grid">
          <div class="photo-frame">
            <img src="image/photo_4_2026-02-13_22-12-10.jpg" alt="мишка" loading="lazy">
          </div>
          <div class="message">
            <div class="message-line">Обниму — и сразу тепло</div>
            <div class="message-line">Ты самый уютный человек на планете</div>
          </div>
        </div>
      </div>
    </section>

    <!-- 5. Воздушные шары -->
    <section class="screen" id="screen5">
      <div class="card">
        <div class="card-header"><span>🎈 5/8</span><span>шарики желаний</span></div>
        <h2>Отпускаю шарик с именем</h2>
        <div class="content-grid">
          <div class="photo-frame">
            <img src="image/photo_5_2026-02-13_22-12-10.jpg" alt="balloons" loading="lazy">
          </div>
          <div class="message">
            <div class="message-line">Моё желание — чтобы ты улыбалась</div>
            <div class="message-line">Каждый день запускаю шарик любви 🎈</div>
          </div>
        </div>
      </div>
    </section>

    <!-- 6. Сладкий сон -->
    <section class="screen" id="screen6">
      <div class="card">
        <div class="card-header"><span>🌙 6/8</span><span>лунные грезы</span></div>
        <h2>Ты снишься мне каждую ночь</h2>
        <div class="content-grid">
          <div class="photo-frame">
            <img src="image/photo_6_2026-02-13_22-12-10.jpg" alt="moon" loading="lazy">
          </div>
          <div class="message">
            <div class="message-line">Даже во сне я ищу твою руку</div>
            <div class="message-line">Сладких снов, моя валентинка</div>
          </div>
        </div>
      </div>
    </section>

    <!-- 7. Валентинка-открытка -->
    <section class="screen" id="screen7">
      <div class="card">
        <div class="card-header"><span>💘 7/8</span><span>самая тайная</span></div>
        <h2>Для тебя одной</h2>
        <div class="content-grid">
          <div class="photo-frame">
            <img src="image/photo_7_2026-02-13_22-12-10.jpg" alt="valentine" loading="lazy">
          </div>
          <div class="message">
            <div class="message-line">Внутри этой открытки — всё моё сердце</div>
            <div class="message-line">Будь моей валентинкой сегодня и всегда</div>
          </div>
        </div>
      </div>
    </section>

    <!-- 8. Финальный сюрприз (волшебный конверт) -->
    <section class="screen" id="screen8">
      <div class="card">
        <div class="card-header"><span>💌 8/8</span><span>секретик</span></div>
        <h2>Прикоснись к конверту</h2>
        <div class="content-grid">
          <div class="photo-frame" style="background: #ffdde9; display: flex; align-items: center; justify-content: center;">
            <span style="font-size: 4rem;">🎀</span>
          </div>
          <div class="message">
            <div class="valentine-envelope">
              <div class="heart-progress" id="heartProgress">
                <i>❤️</i><i>❤️</i><i>❤️</i><i>❤️</i><i>❤️</i><i>❤️</i><i>❤️</i><i>❤️</i><i>❤️</i><i>❤️</i>
              </div>
              <div class="envelope" id="envelope" tabindex="0" role="button"></div>
              <div class="status-message" id="envelopeStatus">💗 задержи пальчик на конверте</div>
              <div class="secret-letter" id="secretLetter">
                <h3 class="letter-title">💖 моя sweet Valentine</h3>
                <p>Ты — самое лучшее, что случилось 14 февраля. Этот сертификат дарит тебе бесконечные обнимашки и чашку какао с маршмеллоу. Люблю!</p>
                <p style="margin-top: 12px;">✨ твой тайный поклонник навсегда</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script>
    (function() {
      // floating candies & hearts
      const floatContainer = document.getElementById('floaties');
      const symbols = ['🍬', '🍭', '❤️', '💌', '🧁', '🎈', '🐻', '🌸'];
      for (let i=0; i<22; i++) {
        let el = document.createElement('div');
        el.className = 'floaty-item';
        el.textContent = symbols[Math.floor(Math.random() * symbols.length)];
        el.style.left = Math.random() * 100 + '%';
        el.style.top = Math.random() * 100 + '%';
        el.style.animationDuration = (12 + Math.random() * 20) + 's';
        el.style.animationDelay = (Math.random() * 10) + 's';
        el.style.fontSize = (1 + Math.random() * 3) + 'rem';
        floatContainer.appendChild(el);
      }

      const scroller = document.getElementById('scroller');
      const screens = Array.from(document.querySelectorAll('.screen'));
      const dots = Array.from(document.querySelectorAll('.dot'));
      const envelope = document.getElementById('envelope');
      const progressContainer = document.getElementById('heartProgress');
      const statusMsg = document.getElementById('envelopeStatus');
      const secretLetter = document.getElementById('secretLetter');

      // наблюдатель за экранами
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const index = screens.indexOf(entry.target);
            entry.target.classList.add('in-view');
            dots.forEach((d, i) => d.classList.toggle('active', i === index));
          }
        });
      }, { root: scroller, threshold: 0.3 });

      screens.forEach(s => observer.observe(s));
      screens[0].classList.add('in-view'); // стартовый

      // ======== интерактив с конвертом (милое удержание) ========
      const hearts = Array.from(progressContainer.children); // 10 сердечек
      let holdActive = false;
      let holdStartTime = 0;
      let holdDone = false;
      let animFrame = null;
      const HOLD_MS = 4000; // 4 секунды для нежности

      function updateHearts(ratio) {
        const litCount = Math.round(ratio * hearts.length);
        hearts.forEach((h, idx) => h.classList.toggle('lit', idx < litCount));
      }

      function setMessage(text, isSuccess = false) {
        statusMsg.textContent = text;
        statusMsg.style.background = isSuccess ? '#ffe2f0' : '#ffffffba';
      }

      function finishHold() {
        if (holdDone) return;
        holdDone = true;
        holdActive = false;
        cancelAnimationFrame(animFrame);
        updateHearts(1);
        envelope.classList.add('tapped');
        setMessage('🎉 конвертик открылся!', true);
        secretLetter.classList.add('show');
        // сохраняем в localStorage, как память
        localStorage.setItem('valentine_opened', new Date().toLocaleString());
      }

      function tick() {
        if (!holdActive || holdDone) return;
        const elapsed = Date.now() - holdStartTime;
        const prog = Math.min(elapsed / HOLD_MS, 1);
        updateHearts(prog);
        setMessage(`💕 держи ещё ${Math.ceil((HOLD_MS - elapsed)/1000)} сек...`);
        if (prog >= 1) finishHold();
        else animFrame = requestAnimationFrame(tick);
      }

      function startHold(e) {
        if (holdDone) { setMessage('✨ уже открыто', true); return; }
        if (e) e.preventDefault();
        holdActive = true;
        holdStartTime = Date.now();
        tick();
      }

      function stopHold(e) {
        if (!holdActive || holdDone) return;
        holdActive = false;
        cancelAnimationFrame(animFrame);
        updateHearts(0);
        setMessage('💔 ещё чуть-чуть — и откроется');
        envelope.classList.remove('tapped');
      }

      envelope.addEventListener('pointerdown', startHold);
      ['pointerup', 'pointerleave', 'pointercancel'].forEach(ev => envelope.addEventListener(ev, stopHold));
      envelope.addEventListener('keydown', (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); startHold(e); } });
      envelope.addEventListener('keyup', (e) => { if (e.key === 'Enter' || e.key === ' ') stopHold(e); });

      // проверка, открывался ли уже конверт
      if (localStorage.getItem('valentine_opened')) {
        holdDone = true;
        updateHearts(1);
        envelope.classList.add('tapped');
        setMessage('💞 уже открыто', true);
        secretLetter.classList.add('show');
      }

      // имитация загрузки фото (заглушки)
      document.querySelectorAll('img').forEach(img => {
        img.addEventListener('error', () => {
          img.src = 'data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'300\' height=\'200\' viewBox=\'0 0 300 200\'%3E%3Crect width=\'300\' height=\'200\' fill=\'%23ffe2ec\'/%3E%3Ctext x=\'50\' y=\'120\' fill=\'%23b3848c\' font-size=\'28\'%3E🍬%3C/text%3E%3C/svg%3E';
        });
      });

      // dots кликабельны
      dots.forEach((dot, idx) => {
        dot.addEventListener('click', () => {
          screens[idx].scrollIntoView({ behavior: 'smooth' });
        });
      });
    })();
  </script>
</body>
</html>